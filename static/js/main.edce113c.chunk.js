(this.webpackJsonpboxoffice=this.webpackJsonpboxoffice||[]).push([[0],{57:function(e,t,r){},59:function(e,t,r){},60:function(e,t,r){},69:function(e,t,r){"use strict";r.r(t);var n,a=r(2),i=r(0),o=r.n(i),c=r(19),s=r.n(c),l=(r(57),r(40)),u=r(6),d=r.n(u),v=r(37),p=r(12),h=r(7),b=r(16),f=r(11),j=r(10),m=(r(59),{REACT_APP_API_BASE_URL:"https://cors-anywhere.herokuapp.com/http://webjetapitest.azurewebsites.net/api",REACT_APP_ACCESS_TOKEN:"sjd1HfkjU83ksdsm3802k"}),O=function e(t,r,n){Object(h.a)(this,e),this.name=void 0,this.message=void 0,this.stack=void 0,this.name=t,this.message=r,this.stack=n},x=function(e){Object(f.a)(r,e);var t=Object(j.a)(r);function r(e){Object(h.a)(this,r);var n=void 0===e?"Unable to complete the request":e;return t.call(this,"Bad Request",n,(new Error).stack)}return r}(O),g=function(e){Object(f.a)(r,e);var t=Object(j.a)(r);function r(e){Object(h.a)(this,r);var n=void 0===e?"Session time out":e;return t.call(this,"Unauthorized",n,(new Error).stack)}return r}(O),w=function(e){Object(f.a)(r,e);var t=Object(j.a)(r);function r(e){Object(h.a)(this,r);var n=void 0===e?"Unable to connect to server":e;return t.call(this,"Network Error",n,(new Error).stack)}return r}(O),k=function(e){Object(f.a)(r,e);var t=Object(j.a)(r);function r(e){Object(h.a)(this,r);var n=void 0===e?"Unable to find resource":e;return t.call(this,"Not Found Error",n,(new Error).stack)}return r}(O),y=function(e){Object(f.a)(r,e);var t=Object(j.a)(r);function r(e){Object(h.a)(this,r);var n=void 0===e?"Forbidden access to resource":e;return t.call(this,"Forbidden Error",n,(new Error).stack)}return r}(O),P=function(e){Object(f.a)(r,e);var t=Object(j.a)(r);function r(e,n){var a;Object(h.a)(this,r);var i=void 0===n?"Unable to complete the request":n;return(a=t.call(this,"Unprocessable Entity",i,(new Error).stack)).errors=void 0,a.errors=e,a}return r}(O);function S(e){return M.apply(this,arguments)}function M(){return(M=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=2;break}return e.abrupt("return",t);case 2:if(401!==t.status){e.next=4;break}return e.abrupt("return",Promise.reject(new g));case 4:if(403!==t.status){e.next=6;break}return e.abrupt("return",Promise.reject(new y));case 6:if(404!==t.status){e.next=8;break}return e.abrupt("return",Promise.reject(new k));case 8:if(422!==t.status){e.next=13;break}return e.next=11,W(t);case 11:return r=e.sent,e.abrupt("return",Promise.reject(new P(r.errors)));case 13:if(!(t.status>=400&&t.status<499)){e.next=15;break}return e.abrupt("return",Promise.reject(new x));case 15:if(302!==t.status){e.next=17;break}return e.abrupt("return",Promise.reject(new g));case 17:if(!(t.status>=500&&t.status<600)){e.next=19;break}return e.abrupt("return",Promise.reject(new w));case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){return C.apply(this,arguments)}function C(){return(C=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.text().then((function(e){return e&&JSON.parse(e,(function(e,t){return t}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return L.apply(this,arguments)}function L(){return(L=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){e.Get="GET",e.Post="POST",e.Put="PUT"}(n||(n={}));var D=new(function(e){Object(f.a)(r,e);var t=Object(j.a)(r);function r(){return Object(h.a)(this,r),t.apply(this,arguments)}return Object(b.a)(r,[{key:"getMovieById",value:function(){var e=Object(p.a)(d.a.mark((function e(t,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get("/".concat(t,"/movie/").concat(r));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getMovies",value:function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get("/".concat(t,"/movies"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(function(){function e(){Object(h.a)(this,e),this.baseUrl=m.REACT_APP_API_BASE_URL}return Object(b.a)(e,[{key:"get",value:function(e,t){return this.performRequest(e,n.Get,t)}},{key:"download",value:function(){var e=Object(p.a)(d.a.mark((function e(t,r,a){var i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createRequest(t,n.Get,a);case 2:return i=e.sent,e.abrupt("return",this.fetch(i).then((function(e){return e.blob()})).then((function(e){var t=window.URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download=r,document.body.appendChild(n),n.click(),n.remove(),window.URL.revokeObjectURL(t)})));case 4:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"performRequest",value:function(){var e=Object(p.a)(d.a.mark((function e(t,r,n,a){var i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createRequest(t,r,n,a);case 2:return i=e.sent,e.abrupt("return",this.fetch(i).then(N));case 4:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a){return e.apply(this,arguments)}}()},{key:"createRequest",value:function(){var e=Object(p.a)(d.a.mark((function e(t,r,n,a){var i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Headers(n)).append("x-access-token",m.REACT_APP_ACCESS_TOKEN+""),n.append("Content-Type","application/json;charset=utf-8"),i="".concat(this.baseUrl).concat(t),e.abrupt("return",new Request(i,{headers:n,method:r,body:JSON.stringify(a),credentials:"same-origin"}));case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a){return e.apply(this,arguments)}}()},{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t).catch((function(){return Promise.reject(new w)})).then(S));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}]),e}())),I=r(92),T=r(93),E=r(46),R=r(94),A=r(95),F=r(96),_=r(97),U=r(98),B=r(5),J=r(103),q=Object(J.a)({head:{backgroundColor:"black",color:"white",textAlign:"center"},summaryTable:{minWidth:650,whiteSpace:"pre"},inputField:{width:"200px"},header:{marginBottom:"20px",backgroundColor:"#64b5f6 !important"},menuRow:{paddingLeft:2,paddingRight:1,height:55,"&:hover":{backgroundColor:"#e3f2fd !important"}},tableHead:{backgroundColor:"#64b5f6 !important"}}),G=Object(J.a)({inputField:{width:"200px"},header:{marginBottom:"20px"},root:{maxWidth:345},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto"},expandOpen:{transform:"rotate(180deg)"},clear:{clear:"both"},tiles:{backgroundColor:"#f4f4f4",borderRadius:".0625rem",color:"#6d6e73",display:"inline-block",fontWeight:500,letterSpacing:"0",lineHeight:1,margin:"0 .25rem .25rem 0",padding:".1875rem .4375rem .125rem",float:"left"},cheaper:{backgroundColor:"rgb(234, 242, 240)",color:"rgb(60, 110, 92)"},expensive:{backgroundColor:"rgb(237, 229, 202)",color:"rgb(116, 100, 8)"},NA:{backgroundColor:"#F0f0f0",color:"rgba(0, 0, 0, 0.87)"}}),H=r(88),Y=r(90),z=r(91),K=r(102),$=r(33),V=r(45),Q=r.n(V),X=(r(60),function(){return Object(a.jsx)("div",{className:"Loader",children:"Loading..."})}),Z=function(e){Object(f.a)(r,e);var t=Object(j.a)(r);function r(){return Object(h.a)(this,r),t.apply(this,arguments)}return Object(b.a)(r,[{key:"render",value:function(){var e,t,r,n,i=this.props,o=i.filmWorldMovieDetails,c=i.cinemaWorldMovieDetails,s=i.onClosePopup,l=i.classes,u=null!==o&&void 0!==o?o:c;void 0!=o&&void 0!=c&&(o.Price,c.Price);return Object(a.jsxs)("div",{className:"overlay",children:[void 0==u?Object(a.jsx)(X,{}):"",void 0!=u?Object(a.jsx)("div",{className:"summaryPanel",children:Object(a.jsxs)(H.a,{children:[Object(a.jsx)(Y.a,{action:Object(a.jsx)(K.a,{onClick:s,children:Object(a.jsx)(Q.a,{})}),title:null===u||void 0===u?void 0:u.Title,subheader:null===u||void 0===u?void 0:u.Year}),Object(a.jsxs)(z.a,{children:[Object(a.jsx)("div",{className:l.tiles,title:"Country",children:null===u||void 0===u?void 0:u.Country}),Object(a.jsx)("div",{className:l.tiles,title:"Language",children:null===u||void 0===u?void 0:u.Language}),Object(a.jsx)("div",{className:l.tiles,title:"Rating",children:null===u||void 0===u?void 0:u.Rating}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:l.clear,children:" "}),Object(a.jsxs)("div",{children:["Film World: ",Object(a.jsx)("span",{className:void 0==o||(null===o||void 0===o?void 0:o.Price)==(null===c||void 0===c?void 0:c.Price)?l.NA:+(null!==(e=null===o||void 0===o?void 0:o.Price)&&void 0!==e?e:99999)>+(null!==(t=null===c||void 0===c?void 0:c.Price)&&void 0!==t?t:"99999")?l.expensive:l.cheaper,children:null!=(null===o||void 0===o?void 0:o.Price)?"$ ".concat(null===o||void 0===o?void 0:o.Price):"Not Available"}),Object(a.jsx)("br",{}),"Cinema World: ",Object(a.jsx)("span",{className:void 0==c||(null===o||void 0===o?void 0:o.Price)==(null===c||void 0===c?void 0:c.Price)?l.NA:+(null!==(r=null===o||void 0===o?void 0:o.Price)&&void 0!==r?r:99999)<+(null!==(n=null===c||void 0===c?void 0:c.Price)&&void 0!==n?n:"99999")?l.expensive:l.cheaper,children:null!=(null===c||void 0===c?void 0:c.Price)?"$ ".concat(null===c||void 0===c?void 0:c.Price):"Not Available"})]}),Object(a.jsx)("br",{}),Object(a.jsx)($.a,{paragraph:!0,children:"Plot:"}),Object(a.jsx)($.a,{paragraph:!0,children:null===o||void 0===o?void 0:o.Plot})]})]})}):""]})}}]),r}(o.a.Component),ee=Object(B.a)(G)(Z),te=function(e){Object(f.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(h.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={showPopup:!1},e.handleSelectMovie=function(){var t=Object(p.a)(d.a.mark((function t(r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.showPopup(),t.next=3,e.props.onSelectMovie(r);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.closePopup=function(){e.setState({showPopup:!1})},e}return Object(b.a)(r,[{key:"showPopup",value:function(){this.setState({showPopup:!0})}},{key:"render",value:function(){var e=this,t=this.props,r=t.movies,n=t.filmWorldMovieDetails,i=t.cinemaWorldMovieDetails,c=t.classes;return Object(a.jsxs)("div",{children:[Object(a.jsx)(I.a,{children:Object(a.jsx)(T.a,{component:E.a,children:Object(a.jsxs)(R.a,{className:c.summaryTable,size:"small","aria-label":"Voyage availability summary",stickyHeader:!0,children:[Object(a.jsx)(A.a,{className:c.head,children:Object(a.jsxs)(F.a,{className:c.head,children:[Object(a.jsx)(_.a,{children:"Movie Title"}),Object(a.jsx)(_.a,{children:"Year"})]})}),Object(a.jsx)(U.a,{children:null===r||void 0===r?void 0:r.map((function(t,r){return Object(a.jsx)(o.a.Fragment,{children:Object(a.jsxs)(F.a,{hover:!0,className:c.menuRow,style:r%2?{background:"rgba(0, 0, 0, 0.04)"}:{background:"white"},onClick:function(){e.handleSelectMovie(t)},children:[Object(a.jsx)(_.a,{children:Object(a.jsx)("div",{children:t.Title})}),Object(a.jsx)(_.a,{children:Object(a.jsx)("div",{children:t.Year})})]})},r)}))})]})})}),this.state.showPopup?Object(a.jsx)(ee,{filmWorldMovieDetails:n,cinemaWorldMovieDetails:i,onClosePopup:this.closePopup}):null]})}}]),r}(o.a.Component),re=Object(B.a)(q)(te),ne=r(99),ae=r(100),ie=r(101),oe=Object(ne.a)((function(e){return{root:{flexGrow:1,marginBottom:30},title:{flexGrow:1}}}));function ce(){var e=oe();return Object(a.jsx)("div",{className:e.root,children:Object(a.jsx)(ae.a,{position:"static",children:Object(a.jsx)(ie.a,{children:Object(a.jsx)($.a,{variant:"h6",className:e.title,children:"Movie World BoxOffice"})})})})}var se=Object(ne.a)({root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});function le(){var e=se();e.bullet;return Object(a.jsx)(H.a,{className:e.root,children:Object(a.jsx)(z.a,{children:Object(a.jsx)($.a,{className:e.title,color:"textSecondary",gutterBottom:!0,children:"Network Issue/No data available, Kindly refresh."})})})}var ue=function(e){Object(f.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(h.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={movies:void 0,filmWorldMovieDetails:void 0,cinemaWorldMovieDetails:void 0,loader:!1,error:!1},e._isMounted=!1,e.handleFilmWorld=function(e){localStorage.setItem("movieListFilmWorld",JSON.stringify(e))},e.handleCinemaWorld=function(e){localStorage.setItem("movieListCinemaWorld",JSON.stringify(e))},e.onSelectMovie=function(){var t=Object(p.a)(d.a.mark((function t(r){var n,a,i,o,c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.updateState({filmWorldMovieDetails:void 0,cinemaWorldMovieDetails:void 0}),n=D.getMovieById("filmworld",r.FilmWorldID),a=D.getMovieById("cinemaworld",r.CinemaWorldID),t.next=6,Promise.allSettled([n,a]);case 6:i=t.sent,o=Object(v.a)(i,2),c=o[0],s=o[1],e.updateState({filmWorldMovieDetails:"fulfilled"==c.status?c.value:void 0,cinemaWorldMovieDetails:"fulfilled"==s.status?s.value:void 0}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),e.updateState({loader:!1});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(b.a)(r,[{key:"componentDidMount",value:function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._isMounted=!0,e.next=3,this.loadMovies();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"loadMovies",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,r,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.updateState({loader:!0}),null!=localStorage.getItem("movieListFilmWorld")&&null!=localStorage.getItem("movieListCinemaWorld")&&void 0!=this.state.movies){e.next=12;break}return e.next=5,Promise.all([D.getMovies("filmworld"),D.getMovies("cinemaworld")]);case 5:t=e.sent,r=Object(v.a)(t,2),n=r[0],a=r[1],localStorage.setItem("movieListFilmWorld",JSON.stringify(n)),localStorage.setItem("movieListCinemaWorld",JSON.stringify(a)),this.PopulateMovieList();case 12:this.updateState({loader:!1}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),this.updateState({loader:!1,error:!0});case 18:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"PopulateMovieList",value:function(){var e,t,r,n,a,i=null!=localStorage.getItem("movieListFilmWorld")?JSON.parse(null!==(e=null===(t=localStorage)||void 0===t?void 0:t.getItem("movieListFilmWorld"))&&void 0!==e?e:""):"",o=null!=localStorage.getItem("movieListCinemaWorld")?JSON.parse(null!==(r=null===(n=localStorage)||void 0===n?void 0:n.getItem("movieListCinemaWorld"))&&void 0!==r?r:""):"",c=[],s=Object(l.a)(i.Movies);try{var u=function(){var e=a.value,t={Title:e.Title,Year:e.Year,Poster:e.Poster,FilmWorldID:e.ID,CinemaWorldID:o.Movies.find((function(t){return t.Title==e.Title})).ID,Type:e.Type};c.push(t)};for(s.s();!(a=s.n()).done;)u()}catch(d){s.e(d)}finally{s.f()}this.updateState({movies:c})}},{key:"updateState",value:function(e){this._isMounted&&this.setState(e)}},{key:"render",value:function(){var e=this.state,t=e.movies,r=e.filmWorldMovieDetails,n=e.cinemaWorldMovieDetails;return Object(a.jsxs)("div",{children:[Object(a.jsx)(ce,{}),this.state.loader?Object(a.jsx)(X,{}):"",null!=t?Object(a.jsx)(re,{movies:t,filmWorldMovieDetails:r,cinemaWorldMovieDetails:n,onSelectMovie:this.onSelectMovie}):"",!this.state.loader&&this.state.error?Object(a.jsx)(I.a,{children:Object(a.jsx)(le,{})}):""]})}}]),r}(o.a.Component),de=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,105)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;r(e),n(e),a(e),i(e),o(e)}))};s.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(ue,{})}),document.getElementById("root")),de()}},[[69,1,2]]]);
//# sourceMappingURL=main.edce113c.chunk.js.map